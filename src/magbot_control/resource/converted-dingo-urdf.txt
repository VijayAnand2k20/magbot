<?xml version="1.0"?>
<robot name="dingo" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <xacro:include filename="$(find magbot_gazebo)/description/urdf/dingo_ros2_control.xacro" />
  <!-- Maximum torque -->
  <xacro:property name="effort_limit" value="10" />

  <!-- base_link -->
  <link name="base_link">
    <inertial>
      <origin xyz="0.0014631 -0.00014888 -0.00304" rpy="0 0 0"/>
      <mass value="2.2"/>
      <inertia
        ixx="0.0013473" ixy="-5.7062E-07" ixz="-3.8658E-06"
        iyy="0.0024951" iyz="4.4539E-07"
        izz="0.0032361"/>
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://magbot_gazebo/description/meshes/base_link.dae"/>
      </geometry>
      <material name="">
        <color rgba="0.15294 0.78431 0.96078 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://magbot_gazebo/description/meshes/base_collision.STL"/>
      </geometry>
    </collision>
  </link>

  <!-- FL_link1 -->
  <link name="FL_link1">
    <inertial>
      <origin xyz="0.0099246 0.0072705 0.0095717" rpy="0 0 0"/>
      <mass value="0.2"/>
      <inertia
        ixx="3.5552E-05" ixy="4.3357E-08" ixz="2.126E-08"
        iyy="3.3482E-05" iyz="-1.3221E-07"
        izz="1.9902E-05"/>
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://magbot_gazebo/description/meshes/FL_link1.dae"/>
      </geometry>
      <material name="">
        <color rgba="0.15294 0.78431 0.96078 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://magbot_gazebo/description/meshes/L_link1_collision.STL"/>
      </geometry>
    </collision>
  </link>

  <!-- FL_link2 -->
  <link name="FL_link2">
    <inertial>
      <origin xyz="0.04716 -9.1E-06 0.0027797" rpy="0 0 0"/>
      <mass value="0.05"/>
      <inertia
        ixx="2.7283E-06" ixy="-6.5997E-10" ixz="1.8046E-06"
        iyy="7.2343E-05" iyz="-2.0176E-09"
        izz="7.3964E-05"/>
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://magbot_gazebo/description/meshes/L_link2.dae"/>
      </geometry>
      <material name="">
        <color rgba="0.15294 0.78431 0.96078 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://magbot_gazebo/description/meshes/L_link2_collision.STL"/>
      </geometry>
    </collision>
  </link>

  <!-- FL_link3 -->
  <link name="FL_link3">
    <inertial>
      <origin xyz="0.050883 0.0040212 0.00066702" rpy="0 0 0"/>
      <mass value="0.05"/>
      <inertia
        ixx="4.9316E-06" ixy="-7.1103E-06" ixz="2.5244E-06"
        iyy="8.9179E-05" iyz="2.3247E-07"
        izz="8.8368E-05"/>
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://magbot_gazebo/description/meshes/L_link3.dae"/>
      </geometry>
      <material name="">
        <color rgba="0.15294 0.78431 0.96078 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://magbot_gazebo/description/meshes/L_link3_collision.STL"/>
      </geometry>
    </collision>
  </link>

  <!-- FL_link4 -->
  <link name="FL_link4">
    <inertial>
      <origin xyz="-0.0035222 0.0032708 7.8202E-12" rpy="0 0 0"/>
      <mass value="0.01"/>
      <inertia
        ixx="4.34E-08" ixy="-1.0272E-08" ixz="-3.4038E-16"
        iyy="4.1878E-08" iyz="3.1906E-16"
        izz="3.2338E-08"/>
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://magbot_gazebo/description/meshes/link4.dae"/>
      </geometry>
      <material name="">
        <color rgba="0.15294 0.78431 0.96078 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://magbot_gazebo/description/meshes/link4_collision.STL"/>
      </geometry>
    </collision>
  </link>

  <!-- Continue with similar updates for FR, RL, and RR links -->
  <!-- FR_link1 -->
  <link name="FR_link1">
    <inertial>
      <origin xyz="-0.0099246 0.0072016 0.009573" rpy="0 0 0"/>
      <mass value="0.2"/>
      <inertia
        ixx="3.5552E-05" ixy="4.3356E-08" ixz="-2.0644E-08"
        iyy="3.3482E-05" iyz="-1.3216E-07"
        izz="1.9902E-05"/>
    </inertial>
    <!-- Visual and collision elements remain unchanged -->
  </link>

  <!-- Joint definitions remain unchanged -->
  <joint name="FL_theta1" type="revolute">
    <origin xyz="0.11165 0.061 -0.0144" rpy="1.5708 0 1.5708"/>
    <parent link="base_link"/>
    <child link="FL_link1"/>
    <axis xyz="0 0 1"/>
    <limit lower="-0.785398" upper="0.785398" effort="${effort_limit}" velocity="3"/>
    <dynamics damping="1000.0" friction="1000.0"/>
  </joint>

  <!-- Continue with remaining joint definitions -->
  
  <!-- Gazebo plugins and configurations remain unchanged -->
  <gazebo>
    <plugin name="gazebo_ros2_control" filename="libgazebo_ros2_control.so">
      <parameters>$(find magbot_gazebo)/config/dingo_controllers.yaml</parameters>
    </plugin>
  </gazebo>

  <!-- Rest of the gazebo configurations -->

  <xacro:dingo_ros2_control name="DingoRobotSystem"/>

</robot>
